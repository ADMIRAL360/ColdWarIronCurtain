scripted_gui = {

	JAP_National_Diet_opener = {
		context_type = player_context
		parent_window_token = politics_tab
		window_name = JAP_National_Diet_open_window
		ai_enabled = { always = no }
		visible = {
			is_ai = no
			tag = JAP
		}
		effects = {
			JAP_National_Diet_open_button_click = {
				JAP_national_diet_lower_house_support_update_pie_chart = yes
				JAP_refresh_national_diet = yes
				if = {
					limit = { has_country_flag = JAP_National_Diet_open }
					clear_array = JAP_politics_decisions_window_array
					clr_country_flag = JAP_National_Diet_open
				}
				else = {
					for_loop_effect = {
						start = 1
						end = 3
						compare = less_than_or_equals
						add_to_array = { JAP_politics_decisions_window_array = v }
					}
					set_country_flag = JAP_National_Diet_open
				}
			}
		}
	}
	
	JAP_National_Diet_window = {
		window_name = JAP_National_Diet_main_window
		context_type = player_context

		visible = {
			has_country_flag = JAP_National_Diet_open
		}
		
		triggers = {
			aichi_support_visible = { check_variable = { aichi_approval > 50 } }
			akita_support_visible = { check_variable = { akita_approval > 50 } }
			aomori_support_visible = { check_variable = { aomori_approval > 50 } }
			chiba_support_visible = { check_variable = { ehime_approval > 50 } }
			ehime_support_visible = { check_variable = { ehime_approval > 50 } }
			fukui_support_visible = { check_variable = { fukui_approval > 50 } }
			fukuoka_support_visible = { check_variable = { fukuoka_approval > 50 } }
			fukushima_support_visible = { check_variable = { fukushima_approval > 50 } }
			gifu_support_visible = { check_variable = { gifu_approval > 50 } }
			gunma_support_visible = { check_variable = { gunma_approval > 50 } }
			hiroshima_support_visible = { check_variable = { hiroshima_approval > 50 } }
			hokkaido_support_visible = { check_variable = { hokkaido_approval > 50 } }
			hyogo_support_visible = { check_variable = { hyogo_approval > 50 } }
			ibaraki_support_visible = { check_variable = { ibaraki_approval > 50 } }
			ishikawa_support_visible = { check_variable = { ishikawa_approval > 50 } }
			iwate_support_visible = { check_variable = { iwate_approval > 50 } }
			kagawa_support_visible = { check_variable = { kagawa_approval > 50 } }
			kagoshima_support_visible = { check_variable = { kagoshima_approval > 50 } }
			kanagawa_support_visible = { check_variable = { kanagawa_approval > 50 } }
			kochi_support_visible = { check_variable = { kochi_approval > 50 } }
			kumamoto_support_visible = { check_variable = { kumamoto_approval > 50 } }
			kyoto_support_visible = { check_variable = { kyoto_approval > 50 } }
			mie_support_visible = { check_variable = { mie_approval > 50 } }
			miyagi_support_visible = { check_variable = { miyagi_approval > 50 } }
			miyazaki_support_visible = { check_variable = { miyazaki_approval > 50 } }
			nagano_support_visible = { check_variable = { nagano_approval > 50 } }
			nagasaki_support_visible = { check_variable = { nagasaki_approval > 50 } }
			nara_support_visible = { check_variable = { nara_approval > 50 } }
			niigata_support_visible = { check_variable = { niigata_approval > 50 } }
			oita_support_visible = { check_variable = { oita_approval > 50 } }
			okayama_support_visible = { check_variable = { okayama_approval > 50 } }
			okinawa_support_visible = { 
				AND = {
					check_variable = { okinawa_approval > 50 } 
					NOT = {
						526 = {
							is_controlled_by = USA
						}
					}
				}
			}
			osaka_support_visible = { check_variable = { osaka_approval > 50 } }
			saga_support_visible = { check_variable = { saga_approval > 50 } }
			saitama_support_visible = { check_variable = { saitama_approval > 50 } }
			shiga_support_visible = { check_variable = { shiga_approval > 50 } }
			shimane_support_visible = { check_variable = { shimane_approval > 50 } }
			shizuoka_support_visible = { check_variable = { shizuoka_approval > 50 } }
			tochigi_support_visible = { check_variable = { tochigi_approval > 50 } }
			tokushima_support_visible = { check_variable = { tokushima_approval > 50 } }
			tokyo_support_visible = { check_variable = { tokyo_approval > 50 } }
			tottori_support_visible = { check_variable = { tottori_approval > 50 } }
			toyama_support_visible = { check_variable = { toyama_approval > 50 } }
			wakayama_support_visible = { check_variable = { wakayama_approval > 50 } }
			yamagata_support_visible = { check_variable = { yamagata_approval > 50 } }
			yamaguchi_support_visible = { check_variable = { yamaguchi_approval > 50 } }
			yamanashi_support_visible = { check_variable = { yamanashi_approval > 50 } }
			aichi_neutral_visible = { check_variable = { aichi_approval = 50 } }
			akita_neutral_visible = { check_variable = { akita_approval = 50 } }
			aomori_neutral_visible = { check_variable = { aomori_approval = 50 } }
			chiba_neutral_visible = { check_variable = { ehime_approval = 50 } }
			ehime_neutral_visible = { check_variable = { ehime_approval = 50 } }
			fukui_neutral_visible = { check_variable = { fukui_approval = 50 } }
			fukuoka_neutral_visible = { check_variable = { fukuoka_approval = 50 } }
			fukushima_neutral_visible = { check_variable = { fukushima_approval = 50 } }
			gifu_neutral_visible = { check_variable = { gifu_approval = 50 } }
			gunma_neutral_visible = { check_variable = { gunma_approval = 50 } }
			hiroshima_neutral_visible = { check_variable = { hiroshima_approval = 50 } }
			hokkaido_neutral_visible = { check_variable = { hokkaido_approval = 50 } }
			hyogo_neutral_visible = { check_variable = { hyogo_approval = 50 } }
			ibaraki_neutral_visible = { check_variable = { ibaraki_approval = 50 } }
			ishikawa_neutral_visible = { check_variable = { ishikawa_approval = 50 } }
			iwate_neutral_visible = { check_variable = { iwate_approval = 50 } }
			kagawa_neutral_visible = { check_variable = { kagawa_approval = 50 } }
			kagoshima_neutral_visible = { check_variable = { kagoshima_approval = 50 } }
			kanagawa_neutral_visible = { check_variable = { kanagawa_approval = 50 } }
			kochi_neutral_visible = { check_variable = { kochi_approval = 50 } }
			kumamoto_neutral_visible = { check_variable = { kumamoto_approval = 50 } }
			kyoto_neutral_visible = { check_variable = { kyoto_approval = 50 } }
			mie_neutral_visible = { check_variable = { mie_approval = 50 } }
			miyagi_neutral_visible = { check_variable = { miyagi_approval = 50 } }
			miyazaki_neutral_visible = { check_variable = { miyazaki_approval = 50 } }
			nagano_neutral_visible = { check_variable = { nagano_approval = 50 } }
			nagasaki_neutral_visible = { check_variable = { nagasaki_approval = 50 } }
			nara_neutral_visible = { check_variable = { nara_approval = 50 } }
			niigata_neutral_visible = { check_variable = { niigata_approval = 50 } }
			oita_neutral_visible = { check_variable = { oita_approval = 50 } }
			okayama_neutral_visible = { check_variable = { okayama_approval = 50 } }
			okinawa_neutral_visible = {
				AND = {
					check_variable = { okinawa_approval = 50 } 
					NOT = {
						526 = {
							is_controlled_by = USA
						}
					}
				}
			}
			osaka_neutral_visible = { check_variable = { osaka_approval = 50 } }
			saga_neutral_visible = { check_variable = { saga_approval = 50 } }
			saitama_neutral_visible = { check_variable = { saitama_approval = 50 } }
			shiga_neutral_visible = { check_variable = { shiga_approval = 50 } }
			shimane_neutral_visible = { check_variable = { shimane_approval = 50 } }
			shizuoka_neutral_visible = { check_variable = { shizuoka_approval = 50 } }
			tochigi_neutral_visible = { check_variable = { tochigi_approval = 50 } }
			tokushima_neutral_visible = { check_variable = { tokushima_approval = 50 } }
			tokyo_neutral_visible = { check_variable = { tokyo_approval = 50 } }
			tottori_neutral_visible = { check_variable = { tottori_approval = 50 } }
			toyama_neutral_visible = { check_variable = { toyama_approval = 50 } }
			wakayama_neutral_visible = { check_variable = { wakayama_approval = 50 } }
			yamagata_neutral_visible = { check_variable = { yamagata_approval = 50 } }
			yamaguchi_neutral_visible = { check_variable = { yamaguchi_approval = 50 } }
			yamanashi_neutral_visible = { check_variable = { yamanashi_approval = 50 } }
			aichi_against_visible = { check_variable = { aichi_approval < 50 } }
			akita_against_visible = { check_variable = { akita_approval < 50 } }
			aomori_against_visible = { check_variable = { aomori_approval < 50 } }
			chiba_against_visible = { check_variable = { ehime_approval < 50 } }
			ehime_against_visible = { check_variable = { ehime_approval < 50 } }
			fukui_against_visible = { check_variable = { fukui_approval < 50 } }
			fukuoka_against_visible = { check_variable = { fukuoka_approval < 50 } }
			fukushima_against_visible = { check_variable = { fukushima_approval < 50 } }
			gifu_against_visible = { check_variable = { gifu_approval < 50 } }
			gunma_against_visible = { check_variable = { gunma_approval < 50 } }
			hiroshima_against_visible = { check_variable = { hiroshima_approval < 50 } }
			hokkaido_against_visible = { check_variable = { hokkaido_approval < 50 } }
			hyogo_against_visible = { check_variable = { hyogo_approval < 50 } }
			ibaraki_against_visible = { check_variable = { ibaraki_approval < 50 } }
			ishikawa_against_visible = { check_variable = { ishikawa_approval < 50 } }
			iwate_against_visible = { check_variable = { iwate_approval < 50 } }
			kagawa_against_visible = { check_variable = { kagawa_approval < 50 } }
			kagoshima_against_visible = { check_variable = { kagoshima_approval < 50 } }
			kanagawa_against_visible = { check_variable = { kanagawa_approval < 50 } }
			kochi_against_visible = { check_variable = { kochi_approval < 50 } }
			kumamoto_against_visible = { check_variable = { kumamoto_approval < 50 } }
			kyoto_against_visible = { check_variable = { kyoto_approval < 50 } }
			mie_against_visible = { check_variable = { mie_approval < 50 } }
			miyagi_against_visible = { check_variable = { miyagi_approval < 50 } }
			miyazaki_against_visible = { check_variable = { miyazaki_approval < 50 } }
			nagano_against_visible = { check_variable = { nagano_approval < 50 } }
			nagasaki_against_visible = { check_variable = { nagasaki_approval < 50 } }
			nara_against_visible = { check_variable = { nara_approval < 50 } }
			niigata_against_visible = { check_variable = { niigata_approval < 50 } }
			oita_against_visible = { check_variable = { oita_approval < 50 } }
			okayama_against_visible = { check_variable = { okayama_approval < 50 } }
			okinawa_against_visible = {
				AND = {
					check_variable = { okinawa_approval < 50 } 
					NOT = {
						526 = {
							is_controlled_by = USA
						}
					}
				}
			}
			osaka_against_visible = { check_variable = { osaka_approval < 50 } }
			saga_against_visible = { check_variable = { saga_approval < 50 } }
			saitama_against_visible = { check_variable = { saitama_approval < 50 } }
			shiga_against_visible = { check_variable = { shiga_approval < 50 } }
			shimane_against_visible = { check_variable = { shimane_approval < 50 } }
			shizuoka_against_visible = { check_variable = { shizuoka_approval < 50 } }
			tochigi_against_visible = { check_variable = { tochigi_approval < 50 } }
			tokushima_against_visible = { check_variable = { tokushima_approval < 50 } }
			tokyo_against_visible = { check_variable = { tokyo_approval < 50 } }
			tottori_against_visible = { check_variable = { tottori_approval < 50 } }
			toyama_against_visible = { check_variable = { toyama_approval < 50 } }
			wakayama_against_visible = { check_variable = { wakayama_approval < 50 } }
			yamagata_against_visible = { check_variable = { yamagata_approval < 50 } }
			yamaguchi_against_visible = { check_variable = { yamaguchi_approval < 50 } }
			yamanashi_against_visible = { check_variable = { yamanashi_approval < 50 } }
			
			okinawa_button_visible = {
				NOT = {
					526 = {
						is_controlled_by = USA
					}
				}
			}
			okinawa_occupied_visible = {
				526 = {
					is_controlled_by = USA
				}
			}
			
			kijuro_shidehara_visible = { check_variable = { shugiin_counter = 1 } }
			kijuro_shidehara_text_visible = { check_variable = { shugiin_counter = 1 } }
			joji_hayashi_visible = { check_variable = { shugiin_counter = 2 } }
			joji_hayashi_text_visible = { check_variable = { shugiin_counter = 2 } }
			banboku_ono_visible = { check_variable = { shugiin_counter = 3 } }
			yasujiro_tsutsumi_visible = { check_variable = { shugiin_counter = 4 } }
			yasujiro_tsutsumi_text_visible = { check_variable = { shugiin_counter = 4 } }
			ito_matsunaga_visible = { check_variable = { shugiin_counter = 5 } }
			shuji_masutani_visible = { check_variable = { shugiin_counter = 6 } }
			niro_hoshijima_visible = { check_variable = { shugiin_counter = 7 } }
			ryogoro_kato_visible = { check_variable = { shugiin_counter = 8 } }
			
			tsuneo_matsudaira_visible = { check_variable = { sangiin_counter = 1 } }
			tsuneo_matsudaira_text_visible = { check_variable = { sangiin_counter = 1 } }
			naotake_sato_visible = { check_variable = { sangiin_counter = 2 } }
			naotake_sato_text_visible = { check_variable = { sangiin_counter = 2 } }
			
			JAP_National_Diet_appease_public_button_visible = { has_political_power > 49.9 }
			JAP_National_Diet_appease_public_cooldownshade_visible = { has_country_flag = JAP_National_Diet_appease_public_cooldown }
			
			JAP_National_Diet_address_criticism_button_visible = { has_political_power > 49.9 }
			JAP_National_Diet_address_criticism_cooldownshade_visible = { has_country_flag = JAP_National_Diet_address_criticism_cooldown }
			JAP_National_Diet_compromise_demands_button_visible = { has_political_power > 24.9 }
			JAP_National_Diet_compromise_demands_cooldownshade_visible = { has_country_flag = JAP_National_Diet_compromise_demands_cooldown }
			JAP_National_Diet_discredit_opposition_button_visible = { has_political_power > 24.9 }
			JAP_National_Diet_discredit_opposition_cooldownshade_visible = { has_country_flag = JAP_National_Diet_discredit_opposition_cooldown }
			JAP_National_Diet_use_public_button_visible = { has_political_power > 24.9 }
			JAP_National_Diet_use_public_cooldownshade_visible = { has_country_flag = JAP_National_Diet_use_public_cooldown }
			JAP_National_Diet_overstate_accomplishments_button_visible = { has_political_power > 24.9 }
			JAP_National_Diet_overstate_accomplishments_cooldownshade_visible = { has_country_flag = JAP_National_Diet_revise_budget_cooldown }
			JAP_National_Diet_revise_budget_button_visible = { has_political_power > 24.9 }
			JAP_National_Diet_revise_budget_cooldownshade_visible = { has_country_flag = JAP_National_Diet_revise_budget_cooldown }
		}
		
		effects = {
			JAP_National_Diet_close_button_click = {
				clr_country_flag = JAP_National_Diet_open
			}
			JAP_National_Diet_appease_public_button_click = {
				add_political_power = -50
				JAP_National_Diet_appease_public = yes
				set_country_flag = {
					flag = JAP_National_Diet_appease_public_cooldown
					days = 70
					value = 1
				}
			}
			JAP_National_Diet_address_criticism_button_click = {
				add_political_power = -50
				JAP_National_Diet_lower_house_add_support = yes
				JAP_national_diet_lower_house_support_update_pie_chart = yes
				set_country_flag = {
					flag = JAP_National_Diet_address_criticism_cooldown
					days = 70
					value = 1
				}
			}
			JAP_National_Diet_compromise_demands_button_click = {
				add_political_power = -25
				JAP_National_Diet_lower_house_subtract_support = yes
				JAP_national_diet_lower_house_support_update_pie_chart = yes
				add_timed_idea = {
					idea = JAP_Disdained_Demands
					days = 40
				}
				set_country_flag = {
					flag = JAP_National_Diet_compromise_demands_cooldown
					days = 70
					value = 1
				}
			}
			JAP_National_Diet_discredit_opposition_button_click = {
				add_political_power = -25
				JAP_National_Diet_appease_public = yes
				JAP_National_Diet_lower_house_subtract_support = yes
				JAP_national_diet_lower_house_support_update_pie_chart = yes
				set_country_flag = {
					flag = JAP_National_Diet_discredit_opposition_cooldown
					days = 70
					value = 1
				}
			}
			JAP_National_Diet_use_public_button_click = {
				add_political_power = -25
				JAP_National_Diet_lower_house_add_support = yes
				JAP_National_Diet_displease_public = yes
				JAP_national_diet_lower_house_support_update_pie_chart = yes
				set_country_flag = {
					flag = JAP_National_Diet_use_public_cooldown
					days = 70
					value = 1
				}
			}
			JAP_National_Diet_revise_budget_button_click = {
				add_political_power = -25
				add_timed_idea = {
					idea = JAP_Revise_Budget
					days = 90
				}
				JAP_National_Diet_lower_house_subtract_support = yes
				JAP_national_diet_lower_house_support_update_pie_chart = yes
				set_country_flag = {
					flag = JAP_National_Diet_revise_budget_cooldown
					days = 180
					value = 1
				}
			}
		}
    }
	
	JAP_National_Diet_lower_house_support_pie_chart_sg = {
		window_name = "JAP_National_Diet_lower_house_support_pie_chart"

		visible = {
			is_ai = no
		}

		ai_enabled = {
			always = no
		}

		dirty = JAP_national_diet_lower_house_support_dirty

		properties = {
			pie0 = { frame = pie_chart^0 }
			pie1 = { frame = pie_chart^1 }
			pie2 = { frame = pie_chart^2 }
			pie3 = { frame = pie_chart^3 }
			pie4 = { frame = pie_chart^4 }
			pie5 = { frame = pie_chart^5 }
			pie6 = { frame = pie_chart^6 }
			pie7 = { frame = pie_chart^7 }
			pie8 = { frame = pie_chart^8 }
			pie9 = { frame = pie_chart^9 }
			pie10 = { frame = pie_chart^10 }
			pie11 = { frame = pie_chart^11 }
			pie12 = { frame = pie_chart^12 }
			pie13 = { frame = pie_chart^13 }
			pie14 = { frame = pie_chart^14 }
			pie15 = { frame = pie_chart^15 }
			pie16 = { frame = pie_chart^16 }
			pie17 = { frame = pie_chart^17 }
			pie18 = { frame = pie_chart^18 }
			pie19 = { frame = pie_chart^19 }
			pie20 = { frame = pie_chart^20 }
			pie21 = { frame = pie_chart^21 }
			pie22 = { frame = pie_chart^22 }
			pie23 = { frame = pie_chart^23 }
			pie24 = { frame = pie_chart^24 }
			pie25 = { frame = pie_chart^25 }
			pie26 = { frame = pie_chart^26 }
			pie27 = { frame = pie_chart^27 }
			pie28 = { frame = pie_chart^28 }
			pie29 = { frame = pie_chart^29 }
			pie30 = { frame = pie_chart^30 }
			pie31 = { frame = pie_chart^31 }
			pie32 = { frame = pie_chart^32 }
			pie33 = { frame = pie_chart^33 }
			pie34 = { frame = pie_chart^34 }
			pie35 = { frame = pie_chart^35 }
			pie36 = { frame = pie_chart^36 }
			pie37 = { frame = pie_chart^37 }
			pie38 = { frame = pie_chart^38 }
			pie39 = { frame = pie_chart^39 }
			pie40 = { frame = pie_chart^40 }
			pie41 = { frame = pie_chart^41 }
			pie42 = { frame = pie_chart^42 }
			pie43 = { frame = pie_chart^43 }
			pie44 = { frame = pie_chart^44 }
			pie45 = { frame = pie_chart^45 }
			pie46 = { frame = pie_chart^46 }
			pie47 = { frame = pie_chart^47 }
			pie48 = { frame = pie_chart^48 }
			pie49 = { frame = pie_chart^49 }
			pie50 = { frame = pie_chart^50 }
			pie51 = { frame = pie_chart^51 }
			pie52 = { frame = pie_chart^52 }
			pie53 = { frame = pie_chart^53 }
			pie54 = { frame = pie_chart^54 }
			pie55 = { frame = pie_chart^55 }
			pie56 = { frame = pie_chart^56 }
			pie57 = { frame = pie_chart^57 }
			pie58 = { frame = pie_chart^58 }
			pie59 = { frame = pie_chart^59 }
			pie60 = { frame = pie_chart^60 }
			pie61 = { frame = pie_chart^61 }
			pie62 = { frame = pie_chart^62 }
			pie63 = { frame = pie_chart^63 }
			pie64 = { frame = pie_chart^64 }
			pie65 = { frame = pie_chart^65 }
			pie66 = { frame = pie_chart^66 }
			pie67 = { frame = pie_chart^67 }
			pie68 = { frame = pie_chart^68 }
			pie69 = { frame = pie_chart^69 }
			pie70 = { frame = pie_chart^70 }
			pie71 = { frame = pie_chart^71 }
			pie72 = { frame = pie_chart^72 }
			pie73 = { frame = pie_chart^73 }
			pie74 = { frame = pie_chart^74 }
			pie75 = { frame = pie_chart^75 }
			pie76 = { frame = pie_chart^76 }
			pie77 = { frame = pie_chart^77 }
			pie78 = { frame = pie_chart^78 }
			pie79 = { frame = pie_chart^79 }
			pie80 = { frame = pie_chart^80 }
			pie81 = { frame = pie_chart^81 }
			pie82 = { frame = pie_chart^82 }
			pie83 = { frame = pie_chart^83 }
			pie84 = { frame = pie_chart^84 }
			pie85 = { frame = pie_chart^85 }
			pie86 = { frame = pie_chart^86 }
			pie87 = { frame = pie_chart^87 }
			pie88 = { frame = pie_chart^88 }
			pie89 = { frame = pie_chart^89 }
			pie90 = { frame = pie_chart^90 }
			pie91 = { frame = pie_chart^91 }
			pie92 = { frame = pie_chart^92 }
			pie93 = { frame = pie_chart^93 }
			pie94 = { frame = pie_chart^94 }
			pie95 = { frame = pie_chart^95 }
			pie96 = { frame = pie_chart^96 }
			pie97 = { frame = pie_chart^97 }
			pie98 = { frame = pie_chart^98 }
			pie99 = { frame = pie_chart^99 }
		}

	}
}
