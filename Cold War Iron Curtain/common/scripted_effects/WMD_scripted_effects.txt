wmd_stockpile_loc = {
	#Column 1
	set_variable = { NukeTotal = num_of_nukes  }
	set_variable = { ICBMTotal = num_equipment@icbm_equipment }
	set_variable = { IRBMTotal = num_equipment@irbm_equipment }
	set_variable = { SLBMTotal = num_equipment@slbm_equipment }
	set_variable = { SRBMTotal = num_equipment@srbm_equipment }
	#Chem
	set_variable = { MustardGasTotal = num_equipment@chemical_weapons_1 }
	set_variable = { NapalmTotal = num_equipment@napalm }
	set_variable = { SarinTotal = num_equipment@sarin }
	set_variable = { VXTotal = num_equipment@vx }
}

wmd_reset = {
	set_variable = { strike_level_tier1_selected = 0 }
	set_variable = { strike_level_tier2_selected = 0 }
	set_variable = { strike_level_tier3_selected = 0 }
	set_variable = { WMD_num_target_states = 0 }
	set_variable = { wmd_target_selected = 0 }
	set_variable = { right_key_turned = 0 }
	set_variable = { left_key_turned = 0 }
	set_variable = { wmd_ready_status = 0 }
	set_variable = { wmd_authorize = 0 }
	set_variable = { activation_code = 0 }
	set_variable = { missile_selected = 0 }
	for_each_scope_loop = {
		array = enemies
		set_variable = { THIS.checkmark = 0 }
	}
	clear_array = WMD_target_states_array
	set_variable = { wmd_num_targets_selected = 0 }
	clear_array = nuclear_power_custom_array
	every_country = {
		limit = { check_variable = { num_of_nukes > 0 } }
		add_to_array = { ROOT.nuclear_power_custom_array = THIS.id }
	}
	wmd_stockpile_loc = yes
	add_to_variable = { refresh_wmd_menu = 1 }
}

wmd_damage_loop_effect = {
	# WIP harain: check calls from outside WMD screen
	##### CIVIL DEVASTATION#####
	log = "  start loop on state: [?wmd_nuke_target_state.GetName]"
	if = { limit = { ROOT = { has_tech = atomic_weapons_armament_I } }
		log = "    reduce state category (state: [?wmd_nuke_target_state.GetName])"
		var:wmd_nuke_target_state = {
			if = { limit = { has_state_category = pop1dev1 } set_state_category = pop1 }
			if = { limit = { has_state_category = pop1dev2 } set_state_category = pop1dev1 }
			if = { limit = { has_state_category = pop1dev3 } set_state_category = pop1dev2 }
			if = { limit = { has_state_category = pop1dev4 } set_state_category = pop1dev3 }
			if = { limit = { has_state_category = pop2dev1 } set_state_category = pop2 }
			if = { limit = { has_state_category = pop2dev2 } set_state_category = pop2dev1 }
			if = { limit = { has_state_category = pop2dev3 } set_state_category = pop2dev2 }
			if = { limit = { has_state_category = pop2dev4 } set_state_category = pop2dev3 }
			if = { limit = { has_state_category = pop3dev1 } set_state_category = pop3 }
			if = { limit = { has_state_category = pop3dev2 } set_state_category = pop3dev1 }
			if = { limit = { has_state_category = pop3dev3 } set_state_category = pop3dev2 }
			if = { limit = { has_state_category = pop3dev4 } set_state_category = pop3dev3 }
			if = { limit = { has_state_category = pop4dev1 } set_state_category = pop4 }
			if = { limit = { has_state_category = pop4dev2 } set_state_category = pop4dev1 }
			if = { limit = { has_state_category = pop4dev3 } set_state_category = pop4dev2 }
			if = { limit = { has_state_category = pop4dev4 } set_state_category = pop4dev3 }
			if = { limit = { has_state_category = pop5dev1 } set_state_category = pop5 }
			if = { limit = { has_state_category = pop5dev2 } set_state_category = pop5dev1 }
			if = { limit = { has_state_category = pop5dev3 } set_state_category = pop5dev2 }
			if = { limit = { has_state_category = pop5dev4 } set_state_category = pop5dev3 }
			if = { limit = { has_state_category = pop7dev1 } set_state_category = pop7 }
			if = { limit = { has_state_category = pop7dev2 } set_state_category = pop7dev1 }
			if = { limit = { has_state_category = pop7dev3 } set_state_category = pop7dev2 }
			if = { limit = { has_state_category = pop7dev4 } set_state_category = pop7dev3 }
			if = { limit = { has_state_category = pop10dev1 } set_state_category = pop10 }
			if = { limit = { has_state_category = pop10dev2 } set_state_category = pop10dev1 }
			if = { limit = { has_state_category = pop10dev3 } set_state_category = pop10dev2 }
			if = { limit = { has_state_category = pop10dev4 } set_state_category = pop10dev3 }
			if = { limit = { has_state_category = pop15dev1 } set_state_category = pop15 }
			if = { limit = { has_state_category = pop15dev2 } set_state_category = pop15dev1 }
			if = { limit = { has_state_category = pop15dev3 } set_state_category = pop15dev2 }
			if = { limit = { has_state_category = pop15dev4 } set_state_category = pop15dev3 }
			if = { limit = { has_state_category = pop20dev1 } set_state_category = pop20 }
			if = { limit = { has_state_category = pop20dev2 } set_state_category = pop20dev1 }
			if = { limit = { has_state_category = pop20dev3 } set_state_category = pop20dev2 }
			if = { limit = { has_state_category = pop20dev4 } set_state_category = pop20dev3 }
		}
	}

	#####ARMAMENT POPULATION AND RADS#####
	###ARMAMENT 0###
	log = "    reduce manpower: ARMAMENT 0 (state: [?wmd_nuke_target_state.GetName]"
	if = {
		limit = {
			ROOT = { has_tech = atomic_weapons_armament_0 }
			NOT = { ROOT = { has_tech = atomic_weapons_armament_I } }
			var:wmd_nuke_target_state = {
				state_population > 50000
				NOT = { state_population > 100000 }
			}
		}
		var:wmd_nuke_target_state = {
			add_manpower = -1000
			add_to_variable = { var = radiation value = 36 }
		}
	}
	if = {
		limit = {
			ROOT = {
				has_tech = atomic_weapons_armament_0
				NOT = { has_tech = atomic_weapons_armament_I }
			}
			var:wmd_nuke_target_state = { 
				state_population > 100000
				NOT = { state_population > 1000000 }
			}
		}
		var:wmd_nuke_target_state = {
			add_manpower = -10000
			add_to_variable = { var = radiation value = 36 }
		}
	}
	if = {
		limit = {
			ROOT = { has_tech = atomic_weapons_armament_0 }
			NOT = { ROOT = { has_tech = atomic_weapons_armament_I } }
			var:wmd_nuke_target_state = { state_population > 1000000 }
			var:wmd_nuke_target_state = { NOT = { state_population > 2000000 } }
		}
		var:wmd_nuke_target_state = {
			add_manpower = -25000
			add_to_variable = { var = radiation value = 36 }
		}
	}
	if = {
		limit = {
			ROOT = { has_tech = atomic_weapons_armament_0 }
			NOT = { ROOT = { has_tech = atomic_weapons_armament_I } }
			var:wmd_nuke_target_state = {
				state_population > 2000000
				NOT = { state_population > 5000000 }
			}
		}
		var:wmd_nuke_target_state = {
			add_manpower = -50000
			add_to_variable = { var = radiation value = 36 }
		}
	}
	if = {
		limit = {
			ROOT = { has_tech = atomic_weapons_armament_0 }
			NOT = { ROOT = { has_tech = atomic_weapons_armament_I } }
			var:wmd_nuke_target_state = {
				state_population > 5000000
				NOT = { state_population > 10000000 }
			}
		}
		var:wmd_nuke_target_state = {
			add_manpower = -100000
			add_to_variable = { var = radiation value = 36 }
		}
	}
	if = {
		limit = {
			ROOT = { has_tech = atomic_weapons_armament_0 }
			NOT = { ROOT = { has_tech = atomic_weapons_armament_I } }
			var:wmd_nuke_target_state = { state_population > 10000000 }
		}
		var:wmd_nuke_target_state = {
			add_manpower = -150000
			add_to_variable = { var = radiation value = 36 }
		}
	}

	###ARMAMENT I###
	log = "    reduce manpower: ARMAMENT I (state: [?wmd_nuke_target_state.GetName])"
	if = {
		limit = {
			ROOT = { has_tech = atomic_weapons_armament_I }
			NOT = { ROOT = { has_tech = atomic_weapons_armament_II } }
			var:wmd_nuke_target_state = {
				state_population > 50000
				NOT = { state_population > 100000 }
			}
		}
		var:wmd_nuke_target_state = {
			add_manpower = -2000
			add_to_variable = { var = radiation value = 48 }
			every_neighbor_state = { add_to_variable = { var = radiation value = 36 } }
		}
	}
	if = {
		limit = {
			ROOT = { has_tech = atomic_weapons_armament_I }
			NOT = { ROOT = { has_tech = atomic_weapons_armament_II } }
			var:wmd_nuke_target_state = {
				state_population > 100000
				NOT = { state_population > 1000000 }
			}
		}
		var:wmd_nuke_target_state = {
			add_manpower = -20000
			add_to_variable = { var = radiation value = 48 }
			every_neighbor_state = { add_to_variable = { var = radiation value = 36 } }
		}
	}
	if = {
		limit = {
			ROOT = { has_tech = atomic_weapons_armament_I }
			NOT = { ROOT = { has_tech = atomic_weapons_armament_II } }
			var:wmd_nuke_target_state = {
				state_population > 1000000
				NOT = { state_population > 2000000 }
			}
		}
		var:wmd_nuke_target_state = {
			add_manpower = -50000
			add_to_variable = { var = radiation value = 48 }
			every_neighbor_state = { add_to_variable = { var = radiation value = 36 } }
		}
	}
	if = {
		limit = {
			ROOT = { has_tech = atomic_weapons_armament_I }
			NOT = { ROOT = { has_tech = atomic_weapons_armament_II } }
			var:wmd_nuke_target_state = {
				state_population > 2000000
				NOT = { state_population > 5000000 }
			}
		}
		var:wmd_nuke_target_state = {
			add_manpower = -100000
			add_to_variable = { var = radiation value = 48 }
			every_neighbor_state = { add_to_variable = { var = radiation value = 36 } }
		}
	}
	if = {
		limit = {
			ROOT = { has_tech = atomic_weapons_armament_I }
			NOT = { ROOT = { has_tech = atomic_weapons_armament_II } }
			var:wmd_nuke_target_state = {
				state_population > 5000000
				NOT = { state_population > 10000000 }
			}
		}
		var:wmd_nuke_target_state = {
			add_manpower = -200000
			add_to_variable = { var = radiation value = 48 }
			every_neighbor_state = { add_to_variable = { var = radiation value = 36 } }
		}
	}
	if = {
		limit = {
			ROOT = { has_tech = atomic_weapons_armament_I }
			NOT = { ROOT = { has_tech = atomic_weapons_armament_II } }
			var:wmd_nuke_target_state = { state_population > 10000000 }
		}
		var:wmd_nuke_target_state = {
			add_manpower = -300000
			add_to_variable = { var = radiation value = 48 }
			every_neighbor_state = { add_to_variable = { var = radiation value = 36 } }
		}
	}

	###ARMAMENT II###
	log = "    reduce manpower: ARMAMENT II (state: [?wmd_nuke_target_state.GetName])"
	if = {
		limit = {
			ROOT = { has_tech = atomic_weapons_armament_II }
			var:wmd_nuke_target_state = { state_population > 50000 }
			var:wmd_nuke_target_state = { NOT = { state_population > 100000 } }
		}
		var:wmd_nuke_target_state = {
			add_manpower = -6000
			add_to_variable = { var = radiation value = 80 }
			every_neighbor_state = { add_to_variable = { var = radiation value = 64 } }
		}
	}
	if = {
		limit = {
			ROOT = { has_tech = atomic_weapons_armament_II }
			var:wmd_nuke_target_state = { state_population > 100000 }
			var:wmd_nuke_target_state = { NOT = { state_population > 1000000 } }
		}
		var:wmd_nuke_target_state = {
			add_manpower = -60000
			add_to_variable = { var = radiation value = 80 }
			every_neighbor_state = { add_to_variable = { var = radiation value = 64 } }
		}
	}
	if = {
		limit = {
			ROOT = { has_tech = atomic_weapons_armament_II }
			var:wmd_nuke_target_state = { state_population > 1000000 }
			var:wmd_nuke_target_state = { NOT = { state_population > 2000000 } }
		}
		var:wmd_nuke_target_state = {
			add_manpower = -150000
			add_to_variable = { var = radiation value = 80 }
			every_neighbor_state = { add_to_variable = { var = radiation value = 64 } }
		}
	}
	if = {
		limit = {
			ROOT = { has_tech = atomic_weapons_armament_II }
			var:wmd_nuke_target_state = { state_population > 2000000 }
			var:wmd_nuke_target_state = { NOT = { state_population > 5000000 } }
		}
		var:wmd_nuke_target_state = {
			add_manpower = -300000
			add_to_variable = { var = radiation value = 80 }
			every_neighbor_state = { add_to_variable = { var = radiation value = 64 } }
		}
	}
	if = {
		limit = {
			ROOT = { has_tech = atomic_weapons_armament_II }
			var:wmd_nuke_target_state = { state_population > 5000000 }
			var:wmd_nuke_target_state = { NOT = { state_population > 10000000 } }
		}
		var:wmd_nuke_target_state = {
			add_manpower = -600000
			add_to_variable = { var = radiation value = 80 }
			every_neighbor_state = { add_to_variable = { var = radiation value = 64 } }
		}
	}
	if = {
		limit = {
			ROOT = { has_tech = atomic_weapons_armament_II }
			var:wmd_nuke_target_state = { state_population > 10000000 }
		}
		var:wmd_nuke_target_state = {
			add_manpower = -800000
			add_to_variable = { var = radiation value = 80 }
			every_neighbor_state = { add_to_variable = { var = radiation value = 64 } }
		}
	}

	#####DELIVERY POPULATION#####
	###DELIVERY I###
	log = "    reduce manpower: DELIVERY I (state: [?wmd_nuke_target_state.GetName])"
	if = {
		limit = {
			ROOT = { has_tech = atomic_weapons_delivery_I }
			NOT = { ROOT = { has_tech = atomic_weapons_delivery_III } }
			var:wmd_nuke_target_state = { state_population > 50000 }
			var:wmd_nuke_target_state = { NOT = { state_population > 100000 } }
		}
		var:wmd_nuke_target_state = { add_manpower = -1000 }
	}
	if = {
		limit = {
			ROOT = { has_tech = atomic_weapons_delivery_I }
			NOT = { ROOT = { has_tech = atomic_weapons_delivery_III } }
			var:wmd_nuke_target_state = { state_population > 100000 }
			var:wmd_nuke_target_state = { NOT = { state_population > 1000000 } }
		}
		var:wmd_nuke_target_state = { add_manpower = -10000 }
	}
	if = {
		limit = {
			ROOT = { has_tech = atomic_weapons_delivery_I }
			NOT = { ROOT = { has_tech = atomic_weapons_delivery_III } }
			var:wmd_nuke_target_state = { state_population > 1000000 }
			var:wmd_nuke_target_state = { NOT = { state_population > 2000000 } }
		}
		var:wmd_nuke_target_state = { add_manpower = -25000 }
	}
	if = {
		limit = {
			ROOT = { has_tech = atomic_weapons_delivery_I }
			NOT = { ROOT = { has_tech = atomic_weapons_delivery_III } }
			var:wmd_nuke_target_state = { state_population > 2000000 }
			var:wmd_nuke_target_state = { NOT = { state_population > 5000000 } }
		}
		var:wmd_nuke_target_state = { add_manpower = -50000 }
	}
	if = {
		limit = {
			ROOT = { has_tech = atomic_weapons_delivery_I }
			NOT = { ROOT = { has_tech = atomic_weapons_delivery_III } }
			var:wmd_nuke_target_state = { state_population > 5000000 }
			var:wmd_nuke_target_state = { NOT = { state_population > 10000000 } }
		}
		var:wmd_nuke_target_state = { add_manpower = -100000 }
	}
	if = {
		limit = {
			ROOT = { has_tech = atomic_weapons_delivery_I }
			NOT = { ROOT = { has_tech = atomic_weapons_delivery_III } }
			var:wmd_nuke_target_state = { state_population > 10000000 }
		}
		var:wmd_nuke_target_state = { add_manpower = -150000 }
	}

	###DELIVERY III###
	log = "    reduce manpower: DELIVERY III (state: [?wmd_nuke_target_state.GetName])"
	if = {
		limit = {
			ROOT = { has_tech = atomic_weapons_delivery_III }
			NOT = { ROOT = { has_tech = atomic_weapons_delivery_V } }
			var:wmd_nuke_target_state = { state_population > 50000 }
			var:wmd_nuke_target_state = { NOT = { state_population > 100000 } }
		}
		var:wmd_nuke_target_state = { add_manpower = -4000 }
	}
	if = {
		limit = {
			ROOT = { has_tech = atomic_weapons_delivery_III }
			NOT = { ROOT = { has_tech = atomic_weapons_delivery_V } }
			var:wmd_nuke_target_state = { state_population > 100000 }
			var:wmd_nuke_target_state = { NOT = { state_population > 1000000 } }
		}
		var:wmd_nuke_target_state = { add_manpower = -40000 }
	}
	if = {
		limit = {
			ROOT = { has_tech = atomic_weapons_delivery_III }
			NOT = { ROOT = { has_tech = atomic_weapons_delivery_V } }
			var:wmd_nuke_target_state = { state_population > 1000000 }
			var:wmd_nuke_target_state = { NOT = { state_population > 2000000 } }
		}
		var:wmd_nuke_target_state = { add_manpower = -100000 }
	}
	if = {
		limit = {
			ROOT = { has_tech = atomic_weapons_delivery_III }
			NOT = { ROOT = { has_tech = atomic_weapons_delivery_V } }
			var:wmd_nuke_target_state = { state_population > 2000000 }
			var:wmd_nuke_target_state = { NOT = { state_population > 5000000 } }
		}
		var:wmd_nuke_target_state = { add_manpower = -200000 }
	}
	if = {
		limit = {
			ROOT = { has_tech = atomic_weapons_delivery_III }
			NOT = { ROOT = { has_tech = atomic_weapons_delivery_V } }
			var:wmd_nuke_target_state = { state_population > 5000000 }
			var:wmd_nuke_target_state = { NOT = { state_population > 10000000 } }
		}
		var:wmd_nuke_target_state = { add_manpower = -400000 }
	}
	if = {
		limit = {
			ROOT = { has_tech = atomic_weapons_delivery_III }
			NOT = { ROOT = { has_tech = atomic_weapons_delivery_V } }
			var:wmd_nuke_target_state = { state_population > 10000000 }
		}
		var:wmd_nuke_target_state = { add_manpower = -600000 }
	}

	###DELIVERY V###
	log = "    reduce manpower: DELIVERY V (state: [?wmd_nuke_target_state.GetName])"
	if = {
		limit = {
			ROOT = { has_tech = atomic_weapons_delivery_V }
			var:wmd_nuke_target_state = { state_population > 50000 }
			var:wmd_nuke_target_state = { NOT = { state_population > 100000 } }
		}
		var:wmd_nuke_target_state = { add_manpower = -6000 }
	}
	if = {
		limit = {
			ROOT = { has_tech = atomic_weapons_delivery_V }
			var:wmd_nuke_target_state = { state_population > 100000 }
			var:wmd_nuke_target_state = { NOT = { state_population > 1000000 } }
		}
		var:wmd_nuke_target_state = { add_manpower = -60000 }
	}
	if = {
		limit = {
			ROOT = { has_tech = atomic_weapons_delivery_V }
			var:wmd_nuke_target_state = {state_population > 1000000}
			var:wmd_nuke_target_state = { NOT = { state_population > 2000000 } }
		}
		var:wmd_nuke_target_state = { add_manpower = -150000 }
	}
	if = {
		limit = {
			ROOT = { has_tech = atomic_weapons_delivery_V }
			var:wmd_nuke_target_state = { state_population > 2000000 }
			var:wmd_nuke_target_state = { NOT = { state_population > 5000000 } }
		}
		var:wmd_nuke_target_state = { add_manpower = -300000 }
	}
	if = {
		limit = {
			ROOT = { has_tech = atomic_weapons_delivery_V }
			var:wmd_nuke_target_state = { state_population > 5000000 }
			var:wmd_nuke_target_state = { NOT = { state_population > 10000000 } }
		}
		var:wmd_nuke_target_state = { add_manpower = -600000 }
	}
	if = {
		limit = {
			ROOT = { has_tech = atomic_weapons_delivery_V }
			var:wmd_nuke_target_state = { state_population > 10000000 }
		}
		var:wmd_nuke_target_state = { add_manpower = -800000 }
	}

	#####DELIVERY BUILDING DAMAGE#####
	if = {
		limit = {
			ROOT = { has_tech = atomic_weapons_delivery_I }
			NOT = { ROOT = { has_tech = atomic_weapons_delivery_II } }
			#NOT = { var:wmd_nuke_target_state = { nuclear_bunker > 0 } }
		}
		log = "    building damage: atomic_weapons_delivery_I/NOT atomic_weapons_delivery_II (state: [?wmd_nuke_target_state.GetName])"
		var:wmd_nuke_target_state = {
			remove_building = { type = arms_factory level = 2 }
			remove_building = { type = industrial_complex level = 2 }
			remove_building = { type = dockyard level = 1 }
			remove_building = { type = office_park level = 3 }
			remove_building = { type = air_base level = 2 }
			remove_building = { type = infrastructure level = 2 }
			remove_building = { type = water_infrastructure level = 1 }
			remove_building = { type = agri_industrial_complex level = 1 }
			damage_building = { type = arms_factory damage = 12 }
			damage_building = { type = industrial_complex damage = 8 }
			damage_building = { type = dockyard damage = 8 }
			damage_building = { type = office_park damage = 8 }
			damage_building = { type = air_base damage = 5 }
			damage_building = { type = infrastructure damage = 5 }
			damage_building = { type = state_infrastructure damage = 8 }
			damage_building = { type = agri_industrial_complex damage = 8 }
		}
	}
	if = {
		limit = {
			ROOT = { has_tech = atomic_weapons_delivery_II }
			NOT = { ROOT = { has_tech = atomic_weapons_delivery_III } }
			#NOT = { var:wmd_nuke_target_state = { nuclear_bunker > 0 } }
		}
		log = "    building damage: atomic_weapons_delivery_II/NOT atomic_weapons_delivery_III (state: [?wmd_nuke_target_state.GetName])"
		var:wmd_nuke_target_state = {
			remove_building = { type = arms_factory level = 2 }
			remove_building = { type = industrial_complex level = 2 }
			remove_building = { type = dockyard level = 1 }
			remove_building = { type = office_park level = 3 }
			remove_building = { type = air_base level = 2 }
			remove_building = { type = infrastructure level = 2 }
			remove_building = { type = water_infrastructure level = 1 }
			remove_building = { type = agri_industrial_complex level = 2 }
			damage_building = { type = arms_factory damage = 16 }
			damage_building = { type = industrial_complex damage = 12 }
			damage_building = { type = dockyard damage = 12 }
			damage_building = { type = office_park damage = 12 }
			damage_building = { type = air_base damage = 8 }
			damage_building = { type = infrastructure damage = 8 }
			damage_building = { type = state_infrastructure damage = 12 }
			damage_building = { type = agri_industrial_complex damage = 12 }
		}
	}
	if = {
		limit = {
			ROOT = { has_tech = atomic_weapons_delivery_III }
			NOT = { ROOT = { has_tech = atomic_weapons_delivery_IV } }
			#NOT = { var:wmd_nuke_target_state = { nuclear_bunker > 0 } }
		}
		log = "    building damage: atomic_weapons_delivery_III/NOT atomic_weapons_delivery_IV (state: [?wmd_nuke_target_state.GetName])"
		var:wmd_nuke_target_state = {
			remove_building = { type = arms_factory level = 2 }
			remove_building = { type = industrial_complex level = 2 }
			remove_building = { type = dockyard level = 1 }
			remove_building = { type = office_park level = 3 }
			remove_building = { type = air_base level = 2 }
			remove_building = { type = infrastructure level = 2 }
			remove_building = { type = water_infrastructure level = 2 }
			remove_building = { type = agri_industrial_complex level = 3 }
			damage_building = { type = arms_factory damage = 20 }
			damage_building = { type = industrial_complex damage = 15 }
			damage_building = { type = dockyard damage = 15 }
			damage_building = { type = office_park damage = 15 }
			damage_building = { type = air_base damage = 10 }
			damage_building = { type = infrastructure damage = 10 }
			damage_building = { type = state_infrastructure damage = 15 }
			damage_building = { type = agri_industrial_complex damage = 15 }
		}
	}
	if = {
		limit = {
			ROOT = { has_tech = atomic_weapons_delivery_IV }
			NOT = { ROOT = { has_tech = atomic_weapons_delivery_V } }
			#NOT = { var:wmd_nuke_target_state = { nuclear_bunker > 0 } }
		}
		log = "    building damage: atomic_weapons_delivery_IV/NOT atomic_weapons_delivery_V (state: [?wmd_nuke_target_state.GetName])"
		var:wmd_nuke_target_state = {
			remove_building = { type = arms_factory level = 2 }
			remove_building = { type = industrial_complex level = 2 }
			remove_building = { type = dockyard level = 1 }
			remove_building = { type = office_park level = 3 }
			remove_building = { type = air_base level = 2 }
			remove_building = { type = infrastructure level = 2 }
			remove_building = { type = water_infrastructure level = 3 }
			remove_building = { type = agri_industrial_complex level = 4 }
			damage_building = { type = arms_factory damage = 24 }
			damage_building = { type = industrial_complex damage = 20 }
			damage_building = { type = dockyard damage = 20 }
			damage_building = { type = office_park damage = 20 }
			damage_building = { type = air_base damage = 13 }
			damage_building = { type = infrastructure damage = 13 }
			damage_building = { type = state_infrastructure damage = 25 }
			damage_building = { type = agri_industrial_complex damage = 25 }
		}
	}
	if = {
		limit = {
			ROOT = { has_tech = atomic_weapons_delivery_V }
			#NOT = { var:wmd_nuke_target_state = { nuclear_bunker > 0 } }
		}
		log = "    building damage: atomic_weapons_delivery_V (state: [?wmd_nuke_target_state.GetName])"
		var:wmd_nuke_target_state = {
			remove_building = { type = arms_factory level = 2 }
			remove_building = { type = industrial_complex level = 2 }
			remove_building = { type = dockyard level = 1 }
			remove_building = { type = office_park level = 3 }
			remove_building = { type = air_base level = 2 }
			remove_building = { type = infrastructure level = 2 }
			remove_building = { type = water_infrastructure level = 3 }
			remove_building = { type = agri_industrial_complex level = 4 }
			damage_building = { type = arms_factory damage = 28 }
			damage_building = { type = industrial_complex damage = 23 }
			damage_building = { type = dockyard damage = 23 }
			damage_building = { type = office_park damage = 23 }
			damage_building = { type = air_base damage = 15 }
			damage_building = { type = infrastructure damage = 15 }
			damage_building = { type = state_infrastructure damage = 28 }
			damage_building = { type = agri_industrial_complex damage = 28 }
		}
	}
	if = {
		limit = {
			ROOT = { has_tech = atomic_weapons_armament_0 }
			NOT = { ROOT = { has_tech = atomic_weapons_armament_I } }
			#NOT = { var:wmd_nuke_target_state = { nuclear_bunker > 0 } }
		}
		log = "    building damage: atomic_weapons_armament_0/NOT atomic_weapons_armament_I (state: [?wmd_nuke_target_state.GetName])"
		var:wmd_nuke_target_state = {
			damage_building = { type = arms_factory damage = 12 }
			damage_building = { type = industrial_complex damage = 8 }
			damage_building = { type = dockyard damage = 8 }
			damage_building = { type = office_park damage = 8 }
			damage_building = { type = air_base damage = 5 }
			damage_building = { type = infrastructure damage = 5 }
			damage_building = { type = state_infrastructure damage = 8 }
			damage_building = { type = agri_industrial_complex damage = 8 }
		}
	}
	if = {
		limit = {
			ROOT = { has_tech = atomic_weapons_armament_I }
			NOT = { ROOT = { has_tech = atomic_weapons_delivery_II } }
			#NOT = { var:wmd_nuke_target_state = { nuclear_bunker > 0 } }
		}
		log = "    building damage: atomic_weapons_armament_I/NOT atomic_weapons_delivery_II (state: [?wmd_nuke_target_state.GetName])"
		var:wmd_nuke_target_state = {
			damage_building = { type = arms_factory damage = 16 }
			damage_building = { type = industrial_complex damage = 12 }
			damage_building = { type = dockyard damage = 12 }
			damage_building = { type = office_park damage = 12 }
			damage_building = { type = air_base damage = 8 }
			damage_building = { type = infrastructure damage = 8 }
			damage_building = { type = state_infrastructure damage = 12 }
			damage_building = { type = agri_industrial_complex damage = 12 }
		}
	}
	if = {
		limit = {
			ROOT = { has_tech = atomic_weapons_armament_II }
			#NOT = { var:wmd_nuke_target_state = { nuclear_bunker > 0 } }
		}
		log = "    building damage: atomic_weapons_armament_II (state: [?wmd_nuke_target_state.GetName])"
		var:wmd_nuke_target_state = {
			damage_building = { type = arms_factory damage = 20 }
			damage_building = { type = industrial_complex damage = 15 }
			damage_building = { type = dockyard damage = 15 }
			damage_building = { type = office_park damage = 15 }
			damage_building = { type = air_base damage = 10 }
			damage_building = { type = infrastructure damage = 10 }
			damage_building = { type = state_infrastructure damage = 15 }
			damage_building = { type = agri_industrial_complex damage = 15 }
		}
	}
}
